{% extends 'include/base.html' %}

{% load static %}

{% block title %}Energy-Ubicaciones{% endblock title %}

{% block style %}

<link href="{% static 'css/lectures.css' %}" rel="stylesheet">

{% endblock style %}

{% block script %}

<script src="https://cdn.jsdelivr.net/npm/chart.js@^3"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@^2"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment@^1"></script>
<script src="{% static 'js/chart-script-today.js' %}"></script>

{% endblock script %}

{% block content %}

<body>

    {% include 'include/header.html' %}

    <div id="json_data" style="display: none" data-json="{{ json_data }}"></div>

    <div class="container-fluid">
        <div class="row">

            {% include 'include/aside.html' %}

            <main class="ms-sm-auto col-xl-10 px-md-4">
                <div class="m-4">
                    <h1>Gráfico diario</h1>
                    <h4>{{ var.0 }}</h4>
                    <p class="text-success">{{ date }}</p>
                </div>

                <div class="d-flex flex-column flex-lg-row justify-content-lg-center gap-4">

                    <!-- Place imagen for sensor -->
                    <div class="container-fluid dimension">
                        <div class="card h-auto shadow pt-3 bg-body-white rounded text-center">
                            <div class="desing d-none d-lg-block">
                                <img src="{{ place.image.url }}" class="card-img-top" />
                            </div>
                            <div class="card-body">
                                <h5 class="card-title">{{ place.place }}</h5>
                                <p class="mb-0">
                                    Sensor: N°{{ sensor.number_sensor }}
                                </p>
                                <p class="text-success mb-1">
                                    Sensor: {{ sensor.detail }}
                                </p>
                                <p class="text-primary fw-bold">{{ var.1 }}</p>
                            </div>
                        </div>
                    </div>

                    <!-- Grafico -->
                    <div class="container-fluid card rounded shadow-lg mb-5" style="width: 100%; height: 50vh;">
                        <canvas id="chart_0" data-var="{{ today }}"></canvas>
                    </div>

                </div>
            </main>
        </div>
    </div>
</body>


{% block scriptII %}

{% endblock scriptII %}

{% endblock content %}