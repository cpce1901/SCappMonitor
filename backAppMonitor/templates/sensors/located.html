{% extends 'include/base.html' %}

{% load static %}

{% block title %}Energy-Ubicaciones{% endblock title %}

{% block style %}

{% endblock style %}

{% block script %}

{% endblock script %}

{% block content %}

<body>

    {% include 'include/header.html' %}

    <div class="container-fluid">
        <div class="row">

            {% include 'include/aside.html' %}

            <main class="ms-sm-auto col-xl-10 px-md-4">

                {% if places %}

                <div class="m-4">
                    <h1>Sensores</h1>
                    <h5 class="text-danger">Lugares de instalaci√≥n</h5>
                </div>
                <div class="row row-cols-1 row-cols-md-3 row-cols-lg-4 g-3">
                    {% for place in places %}
                    <div class="col">
                        <a href="{% url 'sensors_app:sensors' place.id %}" style="text-decoration: none">
                            <div class="card h-auto shadow p-3 mb-2 bg-body-white rounded">
                                <div style="width: 100%; height: 15rem;">
                                    <img src="{{ place.image.option.url }}" class="card-img-top "
                                        style="object-fit: cover; width: 100%; height: 100%;" />
                                </div>

                                <div class="card-body">
                                    <h5 class="card-title">{{ place.place }}</h5>

                                    <p class="card-text">
                                        Cantidad de sensores: {{ place.num_sensores }}
                                    </p>
                                </div>
                            </div>
                        </a>
                    </div>

                    {% endfor %}
                </div>

                {% else %}

                <div class="container-fluid mt-5">
                    <div class="row">
                        <div class="col-12 mb-4">
                            <h1>Advertencia</h1>
                        </div>
                        <div class="col-12">
                            <h5>
                                Ha ocurrido un error interno, es posible que no existan registros de
                                ningun sensor.
                            </h5>
                            <h5>
                                Si esta seguro de la existencia de sensores porfavor comuniquese con su
                                administrador de sistema.
                            </h5>
                        </div>
                    </div>
                </div>
                {% endif %}
            </main>
        </div>
    </div>

</body>


{% block scriptII %}

{% endblock scriptII %}

{% endblock content %}